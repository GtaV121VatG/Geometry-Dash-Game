<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Dash</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }
        
        #homeScreen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        
        h1 {
            color: white;
            font-size: 4em;
            margin-bottom: 50px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }
        
        .playButton {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 3em;
            color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            margin-bottom: 30px;
        }
        
        .playButton:hover {
            transform: scale(1.1);
        }
        
        .colorButton {
            width: 120px;
            height: 50px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2em;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        
        .colorButton:hover {
            transform: scale(1.05);
        }
        
        #levelSelect, #colorPicker, #gameScreen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        
        .levelButton {
            width: 300px;
            height: 60px;
            margin: 10px;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.5em;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        
        .levelButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }
        
        .backButton {
            margin-top: 30px;
            padding: 15px 40px;
            background: rgba(255,255,255,0.3);
            border: 2px solid white;
            border-radius: 25px;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .backButton:hover {
            background: rgba(255,255,255,0.5);
        }
        
        #gameCanvas {
            border: 3px solid white;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .colorOption {
            width: 60px;
            height: 60px;
            margin: 10px;
            border: 3px solid white;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .colorOption:hover {
            transform: scale(1.2);
        }
        
        .colorGrid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px;
        }
        
        #gameInfo {
            color: white;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div id="homeScreen">
        <h1>GEOMETRY DASH</h1>
        <button class="playButton" onclick="showLevelSelect()">â–¶</button>
        <button class="colorButton" onclick="showColorPicker()">Colors</button>
    </div>
    
    <div id="levelSelect">
        <h1 style="color: white; margin-bottom: 30px;">Select Level</h1>
        <button class="levelButton" onclick="startLevel(1)">Level 1 - Cube</button>
        <button class="levelButton" onclick="startLevel(2)">Level 2 - Cube & Ship</button>
        <button class="levelButton" onclick="startLevel(3)">Level 3 - Cube, Ship & UFO</button>
        <button class="levelButton" onclick="startLevel(4)">Level 4 - + Ball</button>
        <button class="levelButton" onclick="startLevel(5)">Level 5 - + Spider</button>
        <button class="backButton" onclick="showHome()">Back</button>
    </div>
    
    <div id="colorPicker">
        <h1 style="color: white; margin-bottom: 20px;">Choose Color</h1>
        <div class="colorGrid">
            <div class="colorOption" style="background: #ff0000;" onclick="setColor('#ff0000')"></div>
            <div class="colorOption" style="background: #00ff00;" onclick="setColor('#00ff00')"></div>
            <div class="colorOption" style="background: #0000ff;" onclick="setColor('#0000ff')"></div>
            <div class="colorOption" style="background: #ffff00;" onclick="setColor('#ffff00')"></div>
            <div class="colorOption" style="background: #ff00ff;" onclick="setColor('#ff00ff')"></div>
            <div class="colorOption" style="background: #00ffff;" onclick="setColor('#00ffff')"></div>
            <div class="colorOption" style="background: #ff8800;" onclick="setColor('#ff8800')"></div>
            <div class="colorOption" style="background: #8800ff;" onclick="setColor('#8800ff')"></div>
        </div>
        <button class="backButton" onclick="showHome()">Back</button>
    </div>
    
    <div id="gameScreen">
        <div id="gameInfo">Level 1 - Press SPACE to jump!</div>
        <canvas id="gameCanvas" width="800" height="400"></canvas>
        <button class="backButton" onclick="exitGame()" style="margin-top: 20px;">Exit Level</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let playerColor = '#ff0000';
        let currentLevel = 1;
        let gameRunning = false;
        let playerMode = 'cube'; // cube, ship, ufo, ball, spider
        let player = {
            x: 100,
            y: 300,
            width: 30,
            height: 30,
            velocityY: 0,
            gravity: 0.8,
            jumpPower: -15,
            isGrounded: false
        };
        
        let obstacles = [];
        let portals = [];
        let scrollSpeed = 5;
        let scrollOffset = 0;
        
        function showHome() {
            document.getElementById('homeScreen').style.display = 'flex';
            document.getElementById('levelSelect').style.display = 'none';
            document.getElementById('colorPicker').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'none';
            gameRunning = false;
        }
        
        function showLevelSelect() {
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('levelSelect').style.display = 'flex';
        }
        
        function showColorPicker() {
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('colorPicker').style.display = 'flex';
        }
        
        function setColor(color) {
            playerColor = color;
            showHome();
        }
        
        function startLevel(level) {
            currentLevel = level;
            document.getElementById('levelSelect').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'flex';
            document.getElementById('gameInfo').textContent = `Level ${level} - Press SPACE to jump!`;
            initLevel(level);
            gameRunning = true;
            gameLoop();
        }
        
        function exitGame() {
            gameRunning = false;
            showLevelSelect();
        }
        
        function initLevel(level) {
            obstacles = [];
            portals = [];
            scrollOffset = 0;
            playerMode = 'cube';
            player.x = 100;
            player.y = 300;
            player.velocityY = 0;
            player.isGrounded = false;
            
            // Level 1: Cube only
            if (level === 1) {
                for (let i = 0; i < 15; i++) {
                    obstacles.push({
                        x: 400 + i * 200,
                        y: 340,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
            }
            
            // Level 2: Cube + Ship
            if (level === 2) {
                for (let i = 0; i < 8; i++) {
                    obstacles.push({
                        x: 300 + i * 150,
                        y: 340,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
                portals.push({ x: 600, y: 200, mode: 'ship' });
                for (let i = 0; i < 10; i++) {
                    obstacles.push({
                        x: 800 + i * 100,
                        y: Math.random() > 0.5 ? 50 : 300,
                        width: 60,
                        height: 20,
                        type: 'block'
                    });
                }
            }
            
            // Level 3: Cube + Ship + UFO
            if (level === 3) {
                for (let i = 0; i < 5; i++) {
                    obstacles.push({
                        x: 300 + i * 120,
                        y: 340,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
                portals.push({ x: 500, y: 200, mode: 'ship' });
                for (let i = 0; i < 5; i++) {
                    obstacles.push({
                        x: 700 + i * 100,
                        y: Math.random() > 0.5 ? 50 : 300,
                        width: 60,
                        height: 20,
                        type: 'block'
                    });
                }
                portals.push({ x: 1200, y: 200, mode: 'ufo' });
                for (let i = 0; i < 8; i++) {
                    obstacles.push({
                        x: 1400 + i * 130,
                        y: 340,
                        width: 40,
                        height: 60,
                        type: 'spike'
                    });
                }
            }
            
            // Level 4: + Ball
            if (level === 4) {
                for (let i = 0; i < 4; i++) {
                    obstacles.push({
                        x: 300 + i * 100,
                        y: 340,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
                portals.push({ x: 600, y: 200, mode: 'ship' });
                for (let i = 0; i < 4; i++) {
                    obstacles.push({
                        x: 800 + i * 90,
                        y: Math.random() > 0.5 ? 50 : 300,
                        width: 60,
                        height: 20,
                        type: 'block'
                    });
                }
                portals.push({ x: 1100, y: 200, mode: 'ball' });
                for (let i = 0; i < 6; i++) {
                    obstacles.push({
                        x: 1300 + i * 110,
                        y: i % 2 === 0 ? 340 : 100,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
            }
            
            // Level 5: All modes
            if (level === 5) {
                for (let i = 0; i < 3; i++) {
                    obstacles.push({
                        x: 300 + i * 90,
                        y: 340,
                        width: 40,
                        height: 50,
                        type: 'spike'
                    });
                }
                portals.push({ x: 550, y: 200, mode: 'ship' });
                for (let i = 0; i < 4; i++) {
                    obstacles.push({
                        x: 700 + i * 80,
                        y: Math.random() > 0.5 ? 40 : 310,
                        width: 50,
                        height: 15,
                        type: 'block'
                    });
                }
                portals.push({ x: 1000, y: 200, mode: 'ufo' });
                for (let i = 0; i < 4; i++) {
                    obstacles.push({
                        x: 1150 + i * 100,
                        y: 340,
                        width: 40,
                        height: 50,
                        type: 'spike'
                    });
                }
                portals.push({ x: 1500, y: 200, mode: 'ball' });
                for (let i = 0; i < 4; i++) {
                    obstacles.push({
                        x: 1650 + i * 100,
                        y: i % 2 === 0 ? 340 : 80,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
                portals.push({ x: 2000, y: 200, mode: 'spider' });
                for (let i = 0; i < 5; i++) {
                    obstacles.push({
                        x: 2150 + i * 90,
                        y: 340,
                        width: 40,
                        height: 40,
                        type: 'block'
                    });
                }
            }
        }
        
        function drawPlayer() {
            ctx.fillStyle = playerColor;
            
            if (playerMode === 'cube') {
                ctx.fillRect(player.x, player.y, player.width, player.height);
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.strokeRect(player.x, player.y, player.width, player.height);
            } else if (playerMode === 'ship') {
                ctx.beginPath();
                ctx.moveTo(player.x, player.y + player.height / 2);
                ctx.lineTo(player.x + player.width, player.y);
                ctx.lineTo(player.x + player.width, player.y + player.height);
                ctx.closePath();
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
            } else if (playerMode === 'ufo') {
                ctx.beginPath();
                ctx.ellipse(player.x + player.width / 2, player.y + player.height / 2, 
                           player.width / 2, player.height / 3, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(player.x + player.width / 2, player.y + player.height / 2, 8, 0, Math.PI * 2);
                ctx.fill();
            } else if (playerMode === 'ball') {
                ctx.beginPath();
                ctx.arc(player.x + player.width / 2, player.y + player.height / 2, 
                       player.width / 2, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
            } else if (playerMode === 'spider') {
                // Spider body
                ctx.fillRect(player.x + 5, player.y + 10, player.width - 10, player.height - 20);
                // Spider legs
                ctx.strokeStyle = playerColor;
                ctx.lineWidth = 3;
                for (let i = 0; i < 4; i++) {
                    ctx.beginPath();
                    ctx.moveTo(player.x + 10, player.y + 15 + i * 5);
                    ctx.lineTo(player.x, player.y + 10 + i * 8);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(player.x + player.width - 10, player.y + 15 + i * 5);
                    ctx.lineTo(player.x + player.width, player.y + 10 + i * 8);
                    ctx.stroke();
                }
            }
        }
        
        function drawObstacles() {
            obstacles.forEach(obs => {
                const screenX = obs.x - scrollOffset;
                if (screenX > -100 && screenX < canvas.width + 100) {
                    if (obs.type === 'spike') {
                        ctx.fillStyle = '#ff0000';
                        ctx.beginPath();
                        ctx.moveTo(screenX, obs.y + obs.height);
                        ctx.lineTo(screenX + obs.width / 2, obs.y);
                        ctx.lineTo(screenX + obs.width, obs.y + obs.height);
                        ctx.closePath();
                        ctx.fill();
                    } else {
                        ctx.fillStyle = '#333';
                        ctx.fillRect(screenX, obs.y, obs.width, obs.height);
                        ctx.strokeStyle = '#fff';
                        ctx.lineWidth = 2;
                        ctx.strokeRect(screenX, obs.y, obs.width, obs.height);
                    }
                }
            });
        }
        
        function drawPortals() {
            portals.forEach(portal => {
                const screenX = portal.x - scrollOffset;
                if (screenX > -100 && screenX < canvas.width + 100) {
                    ctx.fillStyle = 'rgba(0, 255, 255, 0.3)';
                    ctx.fillRect(screenX, portal.y, 40, 150);
                    ctx.strokeStyle = '#00ffff';
                    ctx.lineWidth = 3;
                    ctx.strokeRect(screenX, portal.y, 40, 150);
                    ctx.fillStyle = '#00ffff';
                    ctx.font = '12px Arial';
                    ctx.fillText(portal.mode.toUpperCase(), screenX + 5, portal.y + 75);
                }
            });
        }
        
        function updatePlayer() {
            if (playerMode === 'cube') {
                player.velocityY += player.gravity;
                player.y += player.velocityY;
                
                if (player.y >= 300) {
                    player.y = 300;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else {
                    player.isGrounded = false;
                }
            } else if (playerMode === 'ship') {
                if (keys[' ']) {
                    player.velocityY = -5;
                } else {
                    player.velocityY = 5;
                }
                player.y += player.velocityY;
                player.y = Math.max(0, Math.min(340, player.y));
            } else if (playerMode === 'ufo') {
                player.velocityY += player.gravity * 0.6;
                player.y += player.velocityY;
                
                if (player.y >= 300) {
                    player.y = 300;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else {
                    player.isGrounded = false;
                }
            } else if (playerMode === 'ball') {
                player.velocityY += player.gravity;
                player.y += player.velocityY;
                
                if (player.y >= 300) {
                    player.y = 300;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else if (player.y <= 0) {
                    player.y = 0;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else {
                    player.isGrounded = false;
                }
            } else if (playerMode === 'spider') {
                player.velocityY += player.gravity;
                player.y += player.velocityY;
                
                if (player.y >= 300) {
                    player.y = 300;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else if (player.y <= 0) {
                    player.y = 0;
                    player.velocityY = 0;
                    player.isGrounded = true;
                } else {
                    player.isGrounded = false;
                }
            }
        }
        
        function checkCollisions() {
            obstacles.forEach(obs => {
                const screenX = obs.x - scrollOffset;
                if (player.x < screenX + obs.width &&
                    player.x + player.width > screenX &&
                    player.y < obs.y + obs.height &&
                    player.y + player.height > obs.y) {
                    gameOver();
                }
            });
            
            portals.forEach(portal => {
                const screenX = portal.x - scrollOffset;
                if (player.x < screenX + 40 &&
                    player.x + player.width > screenX &&
                    player.y < portal.y + 150 &&
                    player.y + player.height > portal.y) {
                    playerMode = portal.mode;
                    player.velocityY = 0;
                }
            });
            
            if (scrollOffset > 2500) {
                levelComplete();
            }
        }
        
        function gameOver() {
            gameRunning = false;
            alert('Game Over! Try again.');
            initLevel(currentLevel);
            gameRunning = true;
        }
        
        function levelComplete() {
            gameRunning = false;
            alert('Level Complete! Great job!');
            showLevelSelect();
        }
        
        function gameLoop() {
            if (!gameRunning) return;
            
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Ground
            ctx.fillStyle = '#2d2d2d';
            ctx.fillRect(0, 330, canvas.width, 70);
            
            scrollOffset += scrollSpeed;
            
            drawPortals();
            drawObstacles();
            drawPlayer();
            updatePlayer();
            checkCollisions();
            
            requestAnimationFrame(gameLoop);
        }
        
        const keys = {};
        document.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            
            if (e.key === ' ' && gameRunning) {
                e.preventDefault();
                if (playerMode === 'cube' && player.isGrounded) {
                    player.velocityY = player.jumpPower;
                    player.isGrounded = false;
                } else if (playerMode === 'ufo') {
                    player.velocityY = -10;
                } else if (playerMode === 'ball' && player.isGrounded) {
                    player.velocityY = player.jumpPower * 1.2;
                    player.isGrounded = false;
                } else if (playerMode === 'spider' && player.isGrounded) {
                    if (player.y >= 250) {
                        player.velocityY = -18;
                    } else {
                        player.velocityY = 18;
                    }
                    player.isGrounded = false;
                }
            }
        });
        
        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });
    </script>
</body>
</html>
